import streamlit as st
import base64
import os

# --- Page Configuration ---
st.set_page_config(page_title="My Website", page_icon="üåê")


# --- Add FundMate Logo to Top Right ---
def load_logo_base64(path):
    with open(path, "rb") as f:
        return base64.b64encode(f.read()).decode()

logo_path = "/mnt/data/FundMate Landscape.png"  # from uploaded file
if os.path.exists(logo_path):
    logo_b64 = load_logo_base64(logo_path)
    st.markdown(
        f"""
        <style>
            .top-right-logo {{
                position: fixed;
                top: 20px;
                right: 20px;
                width: 180px;
                z-index: 100;
            }}
        </style>
        <img src="data:image/png;base64,{logo_b64}" class="top-right-logo">
        """,
        unsafe_allow_html=True
    )

# --- Define GIF path ---
gif_path = "D:/my project/Add_a_subheading.gif"  # for local dev

# --- Helper to encode GIF to base64 ---
def get_base64_gif(path):
    with open(path, "rb") as f:
        gif_data = f.read()
    return base64.b64encode(gif_data).decode()

# --- Main Layout ---
st.title("Welcome to FundMate!")
st.markdown("---")

col1, col2 = st.columns([1, 1])

with col1:
    if os.path.exists(gif_path):
        b64_gif = get_base64_gif(gif_path)
        st.markdown(
            f"""
            <div style="text-align: center;">
                <img src="data:image/gif;base64,{b64_gif}" width="1000"/>
            </div>
            """,
            unsafe_allow_html=True
        )
    else:
        st.error(f"GIF not found at: {gif_path}")

with col2:
    mode = st.radio(
        "Choose an action:",
        ('Login', 'Sign Up'),
        horizontal=True,
        label_visibility='collapsed'
    )
    st.markdown("---")

    if mode == 'Login':
        st.subheader("Login")
        with st.form("login_form"):
            login_email = st.text_input("Email", placeholder="pehle kabhi login kiya h@example.com")
            login_password = st.text_input("Password", type="password", placeholder="jaa ke sign up kr üòë")
            login_submitted = st.form_submit_button("Login", use_container_width=True)
            if login_submitted:
                if login_email and login_password:
                    st.success(f"Login attempted for {login_email}")
                else:
                    st.warning("Please enter both email and password.")

    elif mode == 'Sign Up':
        st.subheader("Create Account")
        with st.form("signup_form"):
            signup_email = st.text_input("Email", placeholder="you@example.com")
            signup_password = st.text_input("Choose Password", type="password", placeholder="********")
            signup_confirm_password = st.text_input("Confirm Password", type="password", placeholder="********")
            signup_submitted = st.form_submit_button("Sign Up", use_container_width=True)

            if signup_submitted:
                if signup_email and signup_password and signup_confirm_password:
                    if signup_password == signup_confirm_password:
                        st.success(f"Sign up initiated for {signup_email}")
                    else:
                        st.error("Passwords do not match.")
                else:
                    st.warning("Please fill in all fields.")

# Footer
st.markdown("---")
st.caption("¬© 2025 FundMate.co ‚Äî baap ka paisa sambhala nhi jata to login karlo üòé")

